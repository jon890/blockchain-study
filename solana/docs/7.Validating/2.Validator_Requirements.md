# 솔라나 공식문서 번역해보기 👀

- https://docs.solana.com/running-validator

## 유효성 검사기 요구사항

### 최소 SOL 요구사항

- 솔라나 검증기를 실행하기 위해 최소 SOL 보유 제한은 없다.
- 그러나 합의에 참여하기 위해서, 투표 계정은 임대료 면제 준비금인 0.02685864 SOL이 필요하다.
- 투표는 검증기가 동의한 각각의 블록에 투표 트랜잭션을 전송하는 것을 필요로 한다, 이는 하루에 1.1 SOL의 비용이 들 수 있다.

### 하드웨어 권장사항

- CPU
  - 12 코어 / 24 쓰레드, 혹은 그 이상
  - 2.8GHZ, 또는 더 빠른
  - AVX2 명령어 지원 (공식 출시 바이너리를 사용하기 위해, 또는 자기-컴파일)
  - AVX512f 지원 또는 SHA-NI 명령어가 도움을 줄 수 있다.
  - AMD Zen3 시리즈는 검증인 커뮤니티에서 인기 있다
- RAM
  - 128GB, 혹은 그 이상
  - 256GB의 용량이 적재되는 메인보드가 추천됨
- 디스크
  - PCIe 3세대 x4 NVME SSD, 혹은 더 좋은 것
  - 계정: 500GB, 혹은 더 큼, 높은 TBW(최대 쓰기 용량)
  - 장부: 1TB, 혹은 더 큼, 높은 TBW가 추천 된다
  - OS: (선택적) 500GB, SATA 방식도 가능하다.
  - 운영체제는 아마 장부 디스크에 설치되어야 한다, 장부 디스크에 설치된 운영체제에서 더 높은 테스트 성능을 보여주었다
  - 계정과 장부는 같은 장치에 저장될 수 있다, 그러나 높은 IOPS 때문에, 추천되지는 않는다.
  - 삼성 970, 980 Pro 시리즈가 검증인 커뮤니티에서 인기있다.
- GPU

  - 엄격하게 필요로 되는 것은 아니다.
  - 메인보드와 전원 공급장치가 하나 또는 그이상의 고급 GPU를 지원하도록 미래에는 추천될 것이이다.

### RPC 노드 권장사항

- 만약 RPC 노드로써 일을 수행하려면 위의 하드웨어 권장사항은 아주 작은 최소 사양으로 생각된다.
- 완전한 기능을 제공하고 신뢰성을 향상시키기 위해, 아래의 합의 사항이 만들어져야 한다.

- CPU
  - 16 코어 / 32 쓰레드, 혹은 그 이상
- RAM
  - 256GB, 혹은 그 이상
- 디스크
  - 오랜 트랜 잭션 기록이 필요하다면 큰 장부 디스크가 고려되어야 한다.
  - 계정과 장부는 같은 디스크에 저장될 수 없다.

### 클라우드 플랫폼의 가상 머신

- 클라우드 컴퓨팅 플랫폼에서 검증기를 돌리는 동안은, 장기적으로 봤을 때 비용 효율적이진 않을 것이다.
  <br/>
- 그러나, 그것은 비투표 api 노드를 당신의 개인적인 용도로 사용하는 것은 효율적일 수 있다.
- 이러한 경우는 교환하고 서비스를 솔라나에서 만드는것을 포함한다.
  <br/>
- 사실, 메인넷-베타의 검증기들은 팀에 의해 운영되고 현재 (2021년 3월.) GCE `n2-standard-32` (32 vCPUs, 128GB 메모리)와 2048GB의 SSD를 가진 인스턴스를 운영의 편의를 위해 사용중이다.
  <br/>
- 다른 클라우드 플랫폼을 사용하려면, 비슷한 사양을 가진 인스턴스 타입을 선택하자.
  <br/>
- 또한 인터넷 트레픽 사용률은 매우 높다는 것을 주의하자, 특히 Staked 검증기로 실행되면

### 도커

- 동작중인 클러스터(메인넷-베타 포함)에 검증기를 도커로 실행하는 것은 권장되지 않고 일반적으로 지원하지 않는다.
- 일반적인 도커 가상화 오버헤드의 관점과 특별한 구성때문에 결과 성능이 낮다는 이유 때문이다.
  <br/>
- 우리는 도커를 오직 개발 목적으로 사용한다. 도커 허브 <a href="https://hub.docker.com/r/solanalabs/solana">solanalabs/solana</a> 에는 출시된 이미지들이 있다.

### 소프트웨어

- 우리는 빌드와 실행을 우분투 20.04에서 한다.
- 현재 출시된 솔라나 소프트웨어 설치를 위해 <a href="https://docs.solana.com/cli/install-solana-cli-tool" >솔라나 설치</a>를 보자.
  <br/>
- AVX2를 지원하는 CPU의 Liunx x86_64를 위해 빌드된 라이브러리들을 사용할 수 있다 (우분투 20.04 추천)
- MacOS 또는 WSL 유저는 소스로 부터 빌드해야 한다.

### 네트워킹

- 인터넷 서비스는 최소 대칭적으로 300Mbit/s는 되어야한다, 상업적으로. 1GBit/s가 선호된다.

#### 포트 포워딩

- 인바운드와 아웃바운드를 위해 다음의 포트들이 인터넷으로 열려야 한다.
  </br>
- 검증기를 NAT으로 동작시키는 것은 추천되지 않는다.
- 그렇게 동작시키는 운영자들은 네트워크 장비설정을 편하게 할수도 있고 그들이 소유한 순회 이슈를 디버깅해야 한다

##### 요구 됨

- 8000-10000 TCP/UDP - P2P 프로토콜 (가십, 터빈, 수리, 기타).
- `--dynamic-port-range`를 사용하면 13개의 포트범위로 제한할 수 있다.

##### 선택 사항

- 보안을 위해서, 메인넷-베타 검증자들은 다음의 인터넷에 포트를 여는것은 추천되지 않는다.
- 8899 TCP - HTTP에서 JSONRPC. `--rpc-port RPC_PORT`를 이용해서 변경할 수 있다.
- 8900 TCP - 웹소켓에서 JSONRPC. 유도된다. `RPC_PORT + 1`

### GPU 요구 사항

- CUDA는 우리의 시스템에서 GPU를 사용하게 하는 구성하는 요소이다.
- 우분투 20.04와 <a href="https://developer.nvidia.com/cuda-toolkit-archive">CUDA Toolkit 10.1 update 1</a>에서 빌드된 솔라나 라이브러리를 제공한다.
- 다른 CUDA 버전을 사용한다면, 소스를 새로 빌드해야한다.
